<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>
</head>
<body>
    <canvas id="myChart"></canvas>
    <script>
        const data = [];
        const lables = ['January', 'February', 'March', 'April', 'May', 'June', 'July'];
        lables.forEach(month => {
            data.push(month.length);
        })

    const ctx = document.getElementById('myChart').getContext('2d');
    const chart = new Chart(ctx, {
    // The type of chart we want to create
    type: 'line',

    // The data for our dataset
    data: {
        labels: lables,
        datasets: [{
            label: 'My First dataset',
            backgroundColor: 'rgb(255, 99, 132)',
            borderColor: 'rgb(255, 99, 132)',
            data: data
        }]
    },

    // Configuration options go here
    options: {}
});

/*
const countryByRegionAPI = `https://restcountries.herokuapp.com/api/v1/region/asia`;
let regionResponse = fetch(`https://api.codetabs.com/v1/proxy/?quest=`+countryByRegionAPI)
.then(response => {
    console.log(regionResponse);
    let region = regionResponse.json();})
.then(region => console.log(region))
.catch(error => console.log(error));
*/

async function drawCodeCovidGraph() {
    //console.log("draw");
    const data = await getRegionAndCountry();
    //console.log(data);

}
drawCodeCovidGraph();
//console.log("end");
let myData;

async function getRegionAndCountry() {
    try {
        const countryByRegionAPI = `https://restcountries.herokuapp.com/api/v1/region/asia`;
        const response = await fetch(`https://api.codetabs.com/v1/proxy/?quest=`+countryByRegionAPI);
        // const data = await response.json();
       return await response.json(); 
    } catch (err) {
        //console.log("couמtries fetching failed" + err);
    }
}

drawCodeCovidGraph();
getRegionAndCountry();
//console.log(myData);


//country example
afganistan = {
    "name": {
        "common": "Afghanistan",
         "official": "Islamic Republic of Afghanistan",
        "native": {
            "common": "افغانستان",
            "official": "د افغانستان اسلامي جمهوریت"
         }
     },
    "tld": [
      ".af"
    ],
    "cca2": "AF",
    "ccn3": "004",
    "cca3": "AFG",
    "currency": [
      "AFN"
    ],
    "callingCode": [
      "93"
    ],
    "capital": "Kabul",
    "altSpellings": [
      "AF",
      "Afġānistān"
    ],
    "relevance": "0",
    "region": "Asia",
    "subregion": "Southern Asia",
    "nativeLanguage": "pus",
    "languages": {
      "prs": "Dari",
      "pus": "Pashto",
      "tuk": "Turkmen"
    },
    "translations": {
      "cym": "Affganistan",
      "deu": "Afghanistan",
      "fra": "Afghanistan",
      "hrv": "Afganistan",
      "ita": "Afghanistan",
      "jpn": "アフガニスタン",
      "nld": "Afghanistan",
      "por": "Afeganistão",
      "rus": "Афганистан",
      "spa": "Afganistán"
    },
    "latlng": [
      33,
      65
    ],
    "demonym": "Afghan",
    "borders": [
      "IRN",
      "PAK",
      "TKM",
      "UZB",
      "TJK",
      "CHN"
    ],
    "area": 652230
  };


  //corona info example

  let IL = 
  { "data": {
    "coordinates": {
      "latitude": 31.5,
      "longitude": 34.75
    },
    "name": "Israel",
    "code": "IL",
    "population": 7353985,
    "updated_at": "2021-03-05T17:41:38.822Z",
    "today": {
      "deaths": 0,
      "confirmed": 0
    },
    //object.latest_data[deaths];
    "latest_data": {
      "deaths": 5822,
      "confirmed": 793407,
      "recovered": 746228,
      "critical": 41357,
      "calculated": {
        "death_rate": 0.733797407887755,
        "recovery_rate": 94.05361939080447,
        "recovered_vs_death_ratio": null,
        "cases_per_million_population": 702
      }
    },
    "timeline": [
      {
        "updated_at": "2021-03-05T05:26:29.000Z",
        "date": "2021-03-05",
        "deaths": 5822,
        "confirmed": 793407,
        "recovered": 746002,
        "new_confirmed": 3922,
        "new_recovered": 5061,
        "new_deaths": 19,
        "active": 41583
      },
      {
        "updated_at": "2021-03-04T05:24:24.000Z",
        "date": "2021-03-04",
        "deaths": 5803,
        "confirmed": 789485,
        "recovered": 740941,
        "new_confirmed": 4267,
        "new_recovered": 2715,
        "new_deaths": 13,
        "active": 42741
      },
      {
        "updated_at": "2020-02-21T14:33:03.000Z",
        "date": "2020-02-21",
        "deaths": 0,
        "confirmed": 1,
        "recovered": 0,
        "new_confirmed": 1,
        "new_recovered": 0,
        "new_deaths": 0,
        "active": 1
      }
    ]
  },
  "_cacheHit": true
};

const arr1 = [[1,2,3], [4], [5,6,7], [8]];
const arr2 = ["a", ,"b" ["c", ["d", "e", "f"], "g", "h"], "i"];
console.log("hey");
console.log(arr1);
console.log(arr1.flat());
console.log(arr2);
console.log(arr2.flat(2));

</script>
</body>
</html>